[{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"introducci√≥n","dir":"Articles","previous_headings":"","what":"Introducci√≥n","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Esta vignette muestra distintos ejemplos de mapas generados con la funci√≥n crear_mapa_simple() del paquete metagesToolkit. El objetivo es ilustrar c√≥mo se pueden visualizar colecciones biol√≥gicas y bases de datos de biodiversidad en Espa√±a mediante distintos par√°metros de la funci√≥n, sin entrar en detalles de edici√≥n cartogr√°fica avanzada.","code":"# Funci√≥n para la exploraci√≥n y visualizaci√≥n de datos de colecciones y bases de datos. mapa <- crear_mapa_simple()     # Genera una lista de R con 2 elementos  # Output mapa$data_map                   # Muestra el data frame creado con los filtros aplicados mapa$plot                       # Muestra el mapa creado con los filtros aplicados"},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"datos-de-ejemplo","dir":"Articles","previous_headings":"","what":"Datos de ejemplo","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Para los ejemplos se utilizan datos extra√≠dos del Registro de colecciones mediante la funci√≥n extraer_colecciones_mapa()$data.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-b√°sico-por-estado-de-publicaci√≥n","dir":"Articles","previous_headings":"","what":"Mapa b√°sico por estado de publicaci√≥n","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo m√≠nimo de uso de crear_mapa_entidades(), mostrando la distribuci√≥n espacial de las entidades del Registro segun su estado de publicaci√≥n en GBIF.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-b√°sico-por-numero-de-ejemplares","dir":"Articles","previous_headings":"","what":"Mapa b√°sico por numero de ejemplares","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo m√≠nimo de uso de crear_mapa_simple(), mostrando la distribuci√≥n espacial de todos los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-zool√≥gicas","dir":"Articles","previous_headings":"","what":"Mapa colecciones zool√≥gicas","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Zoo\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-zool√≥gicas-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones zool√≥gicas publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Zoo\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-invertebrados","dir":"Articles","previous_headings":"","what":"Mapa colecciones de invertebrados","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Invertebrados\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-invertebrados-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones de invertebrados publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Invertebrados\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-vertebrados","dir":"Articles","previous_headings":"","what":"Mapa colecciones de vertebrados","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Vertebrados\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-vertebrados-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones de vertebrados publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Vertebrados\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-invertebrados-y-vertebrados","dir":"Articles","previous_headings":"","what":"Mapa colecciones de invertebrados y vertebrados","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Invertebrados y vertebrados\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-invertebrados-y-vertebrados-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones de invertebrados y vertebrados publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Invertebrados y vertebrados\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-bot√°nicas","dir":"Articles","previous_headings":"","what":"Mapa colecciones bot√°nicas","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Bot\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-bot√°nicas-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones bot√°nicas publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Bot\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-plantas","dir":"Articles","previous_headings":"","what":"Mapa colecciones de plantas","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Plant\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-plantas-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones de plantas publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Plant\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-algas","dir":"Articles","previous_headings":"","what":"Mapa colecciones de algas","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Algas\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-algas-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones de algas publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Algas\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-hongos","dir":"Articles","previous_headings":"","what":"Mapa colecciones de hongos","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Hong\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-hongos-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones de hongos publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Hong\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-botanicas-mixtas","dir":"Articles","previous_headings":"","what":"Mapa colecciones de botanicas mixtas","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Bot√°nicas mixtas\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-de-botanicas-mixtas-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones de botanicas mixtas publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", subdisciplina = \"Bot√°nicas mixtas\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-microbiol√≥gicas","dir":"Articles","previous_headings":"","what":"Mapa colecciones microbiol√≥gicas","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Micro\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-microbiol√≥gicas-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones microbiol√≥gicas publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Micro\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-paleontol√≥gicas","dir":"Articles","previous_headings":"","what":"Mapa colecciones paleontol√≥gicas","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Pale\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-paleontol√≥gicas-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones paleontol√≥gicas publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Pale\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-mixtas","dir":"Articles","previous_headings":"","what":"Mapa colecciones mixtas","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Mix\"), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-colecciones-mixtas-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa colecciones mixtas publicadoras","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"coleccion\", disciplina = \"Mix\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-facetado-de-bases-de-datos-por-disciplina-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa facetado de bases de datos por disciplina (publicadoras)","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"base de datos\", facet = \"disciplina_def\", publican = T), mostrando la distribuci√≥n espacial de los recursos del Registro, facetada por disciplina.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"mapa-facetado-de-bases-de-datos-por-disciplina-no-publicadoras","dir":"Articles","previous_headings":"","what":"Mapa facetado de bases de datos por disciplina (no publicadoras)","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Ejemplo de uso de crear_mapa_simple(tipo_coleccion = \"base de datos\", facet = \"disciplina_def\", publican = F), mostrando la distribuci√≥n espacial de los recursos del Registro, facetada por disciplina. (Si hay imagen es porque hay datos para esta categor√≠a)","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"acceso-a-los-datos-usados-en-el-mapa","dir":"Articles","previous_headings":"","what":"Acceso a los datos usados en el mapa","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"La funci√≥n crear_mapa_simple() devuelve una lista que incluye los datos filtrados utilizados para generar el mapa, lo que permite reutilizarlos en tablas o an√°lisis posteriores.","code":"res <- crear_mapa_simple(disciplina = \"Zoo\") head(res$data)"},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"notas-t√©cnicas","dir":"Articles","previous_headings":"","what":"Notas t√©cnicas","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"plot: objeto ggplot2 data: datos filtrados utilizados en el mapa El mapa base de Espa√±a se genera autom√°ticamente y trata de forma espec√≠fica el desplazamiento de Canarias.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html","id":"referencias","dir":"Articles","previous_headings":"","what":"Referencias","title":"Generaci√≥n de mapas con crear_mapa_simple()","text":"Documentaci√≥n de la funci√≥n: ?crear_mapa_simple Sitio pkgdown del paquete metagesToolkit","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"alcance","dir":"Articles","previous_headings":"","what":"Alcance","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"Glosario de t√©rminos MetaGES ‚Äî Nombre de la base de datos del Registro de Colecciones de GBIF.ES metages-toolkit ‚Äî Nombre del repositorio GitHub que gestiona los datos de MetaGES y crea la GitHub Page del repo (alberga metagesToolkit) metagesToolkit ‚Äî Nombre del paquete R de uso interno para leer y analizar el Registro de Colecciones de GBIF.ES (MetaGES). metages-toolkit integra: extracci√≥n de datos desde MetaGES, generaci√≥n de mapas y gr√°ficos, construcci√≥n de informes (Quarto ‚Üí Word), publicaci√≥n de documentaci√≥n v√≠a pkgdown / GitHub Pages. mantenimiento de scripts SQL de la base de datos MetaGES","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"estructura-del-repositorio","dir":"Articles","previous_headings":"","what":"Estructura del repositorio","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"R/ ‚Äî funciones del paquete R metagesToolkit (exportadas y auxiliares) man/ ‚Äî documentaci√≥n de las funciones de R (generada por roxygen) tests/ ‚Äî tests unitarios de las funciones de R (usa testthat) inst/ reports/ ‚Äî recursos del informe Quarto informe.qmd ‚Äî documento orquestador del informe assets/ (logos, im√°genes externas y generadas) data/ mapas/ ‚Äî datasets .rds ya filtradas por casos de uso utilizados en mapas y graficos vistas_sql/ ‚Äî datasets .rds procedentes de vistas SQL de MetaGES scripts/ scripts de actualizaci√≥n de archivos internos (pkgnet output, mapas-graficos-y-datasets de metagesToolkit, documentacion SQL de vistas y scripts de MetaGES y archivo .Renviron) scripts en desarrollo que aun forman parte de metagesToolkit scripts de gestion de MetaGES sql/ ‚Äî scripts SQL de MetaGES documentados/exportados docs/ ‚Äî salida de pkgdown (GitHub Pages) _pkgdown.yml ‚Äî configuraci√≥n del website","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"configuracion-de--renviron-para-acceder-a-metages","dir":"Articles","previous_headings":"","what":"Configuracion de .Renviron para acceder a MetaGES","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"El acceso MetaGES esta protegido por credenciales. Configurar estas credenciales en R es fundamental para usar el paquete tanto como DESARROLLADOR como como USUARIO","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"flujo-recomendado","dir":"Articles","previous_headings":"Configuracion de .Renviron para acceder a MetaGES","what":"Flujo recomendado","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"","code":"# 1. Abrir .Renviron usethis::edit_r_environ()  # 2. Modificar el documento que aparece, a√±adiendo las variables de entorno asi:  nombre-visible-variable-de-entorno1 = \"contenido-privado-variable-de-entorno1\"  nombre-visible-variable-de-entorno2 = \"contenido-privado-variable-de-entorno2\"  ...     # 2.1 Las variables de entorno necesarias para conectarse a MetaGES son:     host_prod     keyfile     prod_ssh_bridge_R     Database     UID     gbif_wp_pass  # 3. Guardar documento. Correr desde la consola con .Renviron abierto rstudioapi::documentSave()  # 4. Hacer efectivos los cambios reiniciando la sesion de R rstudioapi::restartSession()"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"desarrollo-local-como-usuario-externo","dir":"Articles","previous_headings":"","what":"Desarrollo local como usuario externo","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"Cuando se esta actualizando metagesToolkit, combiene testarlo como usuario antes de publicarlo en GitHub para evitar errores de rutas y dependencias impl√≠citas del repo, confiar solo en devtools::load_all(). Esto garantiza que el comportamiento sea el mismo que para un usuario real.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"flujo-recomendado-1","dir":"Articles","previous_headings":"Desarrollo local como usuario externo","what":"Flujo recomendado","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"","code":"# Correr desde la `root` de metagesToolkit   # Abrir proyecto metagesToolkit (para acceder a funciones de desarrollo) rstudioapi::openProject(\"metagesToolkit.Rproj\")  # Hacer cambios deseados  # Instalar paquete metagesToolkit en desarrollo local devtools::install(\".\", upgrade = \"never\")  # Reiniciar sesi√≥n R rstudioapi::restartSession()  # Cargar el paquete en desarrollo library(metagesToolkit)  # Testar funcionalidad a√±adida  # Volver a instalar version oficial de metagesToolkit devtools::install_github(\"GBIFes/metages-toolkit\")  # Volver a reiniciar sesi√≥n R rstudioapi::restartSession()"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"actualizaci√≥n-de-datasets-mapas-y-gr√°ficos-del-repo","dir":"Articles","previous_headings":"","what":"Actualizaci√≥n de datasets, mapas y gr√°ficos del repo","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"Muchos de los datasets, mapas y gr√°ficos usados por el paquete se generan en tiempo real para los usuarios, sino que se actualizan mediante scripts controlados con antelacion para optimizar performance. Este script: extrae datos actualizados regenera mapas y gr√°ficos guarda los resultados como .rds y .png","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"flujo-recomendado-2","dir":"Articles","previous_headings":"Actualizaci√≥n de datasets, mapas y gr√°ficos del repo","what":"Flujo recomendado","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"Ejecutar el script de actualizaci√≥n. Validar manualmente los outputs en: inst/reports/data/mapas/ ‚Äî para datasets filtradas segun crear_mapa_simple() inst/reports/data/vistas_sql/ ‚Äî para datasets provenientes directamente de MetaGES mediante SQL scripts inst/reports/assets/images/generated/ ‚Äî para imagenes de mapas y graficos generadas mediante diversas funciones de metagesToolkit","code":"# Correr desde la `root` de metagesToolkit   # Abrir proyecto metagesToolkit (para acceder a funciones de desarrollo) rstudioapi::openProject(\"metagesToolkit.Rproj\")  # Regenerar recursos internos de metagesToolkit source(\"inst/scripts/actualizar_mapas_vignettes.R\")"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"actualizaci√≥n-de-github-pages","dir":"Articles","previous_headings":"","what":"Actualizaci√≥n de GitHub Pages","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"La documentaci√≥n p√∫blica del paquete se publica mediante pkgdown en GitHub Pages.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"flujo-recomendado-3","dir":"Articles","previous_headings":"Actualizaci√≥n de GitHub Pages","what":"Flujo recomendado","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"Hacer cambios funcionales del repo Commit de cambios funcionales Cambio de version Commit del cambio de version Actualizar website localmente Commit y push del website.","code":"# Correr desde la `root` de metagesToolkit. Seguir pasos en este orden especifico.  # Abrir proyecto metagesToolkit (para acceder a funciones de desarrollo) rstudioapi::openProject(\"metagesToolkit.Rproj\")  # Hacer los cambios deseados en el repo  # Testear los cambios devtools::test()  # Regenerar documentaci√≥n del paquete devtools::document()  # Comprobacion final de cambios devtools::check() git add . git commit -m \"fix(test): Debug en test...\" # Cambiar version del paquete, se aceptan: \"patch\", \"minor\" y \"major\" usethis::use_version(\"patch\") git add DESCRIPTION git commit -m \"feat(repo): Publicar version X.Y.Z\" # Actualizar Analisis estructural de metagesToolkit source(\"inst/scripts/actualizar_pkgnet_arquitectura.R\")  # Reconstruir el website pkgdown::clean_site() pkgdown::build_site()  # Revisar el website browseURL(\"docs/index.html\") git add docs/ git add pkgdown/ git commit -m \"feat(repo): Actualizar pkgdown site for vX.Y.Z\" git push"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"actualizaci√≥n-de-scripts-sql-de-metages","dir":"Articles","previous_headings":"","what":"Actualizaci√≥n de scripts SQL de MetaGES","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"MetaGES guarda el codigo de las vistas SQL, pero guarda la documentacion de dicho codigo. Para mantener un control de versiones del codigo de estas vistas (y otros scripts de MetaGES ‚Äî calitests), estos scripts SQL documentados usan Github y viven en la carpeta sql/ de metagesToolkit.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"flujo-recomendado-4","dir":"Articles","previous_headings":"Actualizaci√≥n de scripts SQL de MetaGES","what":"Flujo recomendado","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"","code":"# Abrir proyecto metagesToolkit (para acceder a funciones de desarrollo) rstudioapi::openProject(\"metagesToolkit.Rproj\")  # IMPORTANTE: Leer detenidamente la documentacion, ya que depende del ordenador con que se use file.edit(\"sql/LEEME\")  # Actualizar scripts source(\"inst/scripts/actualizar_SQL_scripts.R\")  # Revisar que los Scripts SQL de MetaGES coinciden con el contenido de la carpeta sql"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-dev.html","id":"notas-finales","dir":"Articles","previous_headings":"","what":"Notas finales","title":"Guia de uso de metages-toolkit ‚Äî DESARROLLADORES","text":"Este documento describe el flujo esperado, todos los detalles de implementaci√≥n. Ante cambios estructurales (rutas, nombres, outputs), este guia-uso-dev.Rmd debe actualizarse. Para entender dependencias internas de metagesToolkit, consultar el reporte de Arquitectura generado con pkgnet incluido en la barra de navegacion al inicio del renderizado de pkgdown de este documento.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"configuracion-de--renviron","dir":"Articles","previous_headings":"","what":"Configuracion de .Renviron","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"üëâ Consulta el art√≠culo Configuracion de .Renviron para acceder MetaGES","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"instalacion-del-paquete","dir":"Articles","previous_headings":"","what":"Instalacion del paquete","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"El paquete de R metagesToolkit se instala directamente desde GitHub:","code":"# install.packages(\"remotes\") remotes::install_github(\"GBIFes/metages-toolkit\")  # Para desarrollo local del paquete se recomienda utilizar `devtools`, pero no es necesario para su uso normal. # install.packages(\"devtools\") # devtools::install_github(\"GBIFes/metages-toolkit\")"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"extracci√≥n-de-datos","dir":"Articles","previous_headings":"","what":"Extracci√≥n de datos","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"Existen varias maneras de explorar MetaGES dependiendo de si se mira la base de datos directamente o si se usan funciones de metagesToolkit. Para ambas, es necesario tener acceso MetaGES.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"mediante-funciones-de-metagestoolkit","dir":"Articles","previous_headings":"Extracci√≥n de datos","what":"Mediante funciones de metagesToolkit","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"Tener en cuenta que la funcion extraer_colecciones_mapa.R filtra MetaGES para proveer registros de calidad. Por lo tanto proporciona la lista completa de registros de colecciones y bases de datos de MetaGES. Para acceder todos los datos de MetaGES, acceder Mediante llamadas SQL MetaGES","code":"# Cargar el paquete instalado para poder usarlo library(metagesToolkit)  # Extrae una lista que llamamos `datos` datos <- extraer_colecciones_mapa() #> Aviso: #> Disconnecting from unused ssh session. Please use ssh_disconnect()  # Visualizar los datos extraidos View(datos$data)"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"mediante-llamadas-sql-a-metages","dir":"Articles","previous_headings":"Extracci√≥n de datos","what":"Mediante llamadas SQL a MetaGES","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"","code":"# Cargar DBI para conexiones a bases de datos library(DBI)  # Establecer la conexion con <- conectar_metages()$con  # Explorar la base de datos MetaGES. Esta lista muestra las tablas y vistas disponibles dbListTables(con)  # Extraer los datos seleccionados como objeto de R. Admite queries complejos. df <- dbGetQuery(con,                   \"SELECT * FROM colecciones_por_disciplina\")  # Desconectar de MetaGES dbDisconnect(con)"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"creaci√≥n-de-mapas","dir":"Articles","previous_headings":"","what":"Creaci√≥n de mapas","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"La funcion crear_mapa_simple() permite crear mapas y los datos que los generan usando argumentos que filtran o facetan los datos. Los argumentos son opcionales y se pueden combinar entre ellos para generar diferentes tipos de mapas. Permite filtrar por: tipo_coleccion disciplina, subdisciplina publican Permite facetar usando: facet (cualquier columna del dataset)","code":"# Funcion con los argumentos disponibles sin usar crear_mapa_simple(tipo_coleccion,                    disciplina,                    subdisciplina,                    publican,                    facet)    # Para ver las opciones disponibles para cada argumento de la funcion, se pueden  # sacar las variables del dataset descargado anteriormente usando `datos <- extraer_colecciones_mapa()`.  # Las siguientes variables podran ser usadas en cada argumento.   # TIPO_COLECCION unique(datos$data$tipo_body) # [1] \"coleccion\"     \"base de datos\"  # DISCIPLINA unique(datos$data$disciplina_def) # [1] \"Microbiol√≥gica\" \"Bot√°nica\"       \"Mixta\"   # [5] \"Zool√≥gica\"     \"Paleontol√≥gica\"  # SUBDISCIPLINA unique(datos$data$disciplina_subtipo_def) # [1] \"Botanicas mixtas\"            \"Plantas\"                     # [3] \"Vertebrados\"                 \"Invertebrados\"               # [5] \"Invertebrados y vertebrados\" \"Algas\"                       # [7] \"Hongos y l√≠quenes\"  # PUBLICAN unique(datos$data$publica_en_gbif) # [1] 1         0  # FACET # Todas las variables de los datos descargados pueden ser utilizados como `facet` en teoria,  # pero de una en una. # IMPORTANTE: solo deben ser usadas como `facet` las variables categoricas de pocos valores unicos,  # ya que `facet` dividira el grafico en tantos mapas como valores unicos tenga la variable seleccionada. names(datos$data)   # [1] \"body_id\"                        \"institucion_proyecto\"             # [3] \"url_institucion\"                \"coleccion_base\"                   # [5] \"coleccion_url\"                  \"collection_code\"                  # [7] \"number_of_subunits\"             \"percent_database\"                 # [9] \"percent_georref\"                \"disciplina_def\"                   # [11] \"disciplina_subtipo_def\"         \"town\"                             # [13] \"latitude\"                       \"longitude\"                        # [15] \"region\"                         \"tipo_body\"                        # [17] \"publica_en_gbif\"                \"numberOfRecords\"                  # [19] \"fecha_alta_coleccion\"           \"ultima_actualizacion_coleccion\"   # [21] \"ultima_actualizacion_recursos\"  \"disciplina_id\"                    # [23] \"condiciones_col\"                \"acceso_ejemplares\"                # [25] \"acceso_informatizado\"           \"medio_acceso\"                     # [27] \"software_gestion_col\"           \"longitude_adj\"                    # [29] \"latitude_adj\"    # EJEMPLO DE USO 1 # Funcion con filtros en sus argumentos: mapa1 <- crear_mapa_simple(tipo_coleccion = \"coleccion\",                            disciplina = \"Bot√°nica\",                            subdisciplina = \"Plantas\",                            publican = 1) # 1/TRUE = VERDADERO, 0/FALSE = FALSE # Visualizar el mapa mapa1$plot # Visualizar los datos que han generado el mapa mapa1$data_map   # EJEMPLO DE USO 2 # Funcion usando filtros y facet: mapa2 <- crear_mapa_simple(tipo_coleccion = \"coleccion\",                            publican = TRUE,                            facet = \"disciplina_def\") mapa2$plot mapa2$data_map"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"generacion-del-informe-de-colecciones","dir":"Articles","previous_headings":"","what":"Generacion del Informe de Colecciones","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"El Informe de colecciones de GBIF.ES se genera utilizando un documento .qmd (Quarto) que utiliza las funciones y recursos de metagesToolkit para producir un documento .docx editable con toda la informacion necesaria para ser validado por un humano.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"requerimientos","dir":"Articles","previous_headings":"Generacion del Informe de Colecciones","what":"Requerimientos","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"Para optimizar la produccion del informe, se usan recursos ya generados y guardados con anterioridad en metagesToolkit por lo que el primer paso sera actualizar estos recursos. Para actualizarlos, üëâ Consulta el art√≠culo Actualizaci√≥n de datasets, mapas y gr√°ficos del repo","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"renderizar-informe","dir":"Articles","previous_headings":"Generacion del Informe de Colecciones","what":"Renderizar informe","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"","code":"# RENDERIZAR INFORME # Crea una carpeta `informe_output` en el `directorio raiz` con todos los  # recursos usados para generar el informe. # El informe se encuentra en `informe_output/reports/informe.docx` render_informe()   # ADICION DE ANEXOS # En el mismo directorio donde se encuentra `informe.docx`, esta funcion crea  # `informe_con tablas_colecciones.docx` que es una version actualizada de `informe.docx`. # El argumento `keyword` debe referenciar una seccion existente del `informe.docx` # generado por `render_informe()` insertar_tabla_colecciones(keyword = \"Anexos\")"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"acceso-a-recursos-internos-de-metagestoolkit","dir":"Articles","previous_headings":"","what":"Acceso a recursos internos de metagesToolkit","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"Un usuario de metagesToolkit puede acceder los recursos que contiene sin necesidad de estar conectado la base de datos MetaGES, usando el siguiente codigo:","code":""},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"acceso-a-datasets","dir":"Articles","previous_headings":"Acceso a recursos internos de metagesToolkit","what":"Acceso a datasets","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"","code":"# Ruta a los recursos del paquete ruta_mapas <- system.file(\"reports\", \"data\", \"mapas\",                           package = \"metagesToolkit\"                         )  # Listado de recursos disponibles list.files(ruta_mapas)  # Seleccion de dataset deseada ruta <- system.file(\"reports\", \"data\", \"mapas\",                     \"mapa-colecciones-alg.rds\", # Dataset seleccionada                     package = \"metagesToolkit\"                   )  # Visualizar dataset View(readRDS(ruta))"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"acceso-a-mapas-y-gr√°ficos","dir":"Articles","previous_headings":"Acceso a recursos internos de metagesToolkit","what":"Acceso a mapas y gr√°ficos","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"Im√°genes disponibles en: inst/reports/assets/images/logos/ inst/reports/assets/images/external/ inst/reports/assets/images/generated/","code":"# Ruta a los recursos del paquete ruta_plots <- system.file(\"reports\", \"assets\", \"images\", \"generated\",                           package = \"metagesToolkit\"                         )  # Listado de recursos disponibles list.files(ruta_plots)  # Seleccion de dataset deseada ruta <- system.file(\"reports\", \"assets\", \"images\", \"generated\",                     \"mapa-colecciones-inv.png\", # Plot seleccionado                     package = \"metagesToolkit\"                   )  # Visualizar dataset browseURL(ruta)"},{"path":"https://gbifes.github.io/metages-toolkit/articles/guia-uso-usr.html","id":"notas-finales","dir":"Articles","previous_headings":"","what":"Notas finales","title":"Guia de uso de metagesToolkit ‚Äî USUARIOS","text":"Este documento describe el flujo esperado, todos los detalles posibles de uso. Ante cambios estructurales (rutas, nombres, outputs, funciones), este guia-uso-usr.Rmd debe actualizarse.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ruben Perez Perez. Author, maintainer. CSIC. Copyright holder. GBIF ES. Funder.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Perez Perez R (2026). metagesToolkit: Herramientas internas para METAGES. R package version 1.1.1, https://gbifes.github.io/metages-toolkit.","code":"@Manual{,   title = {metagesToolkit: Herramientas internas para METAGES},   author = {Ruben {Perez Perez}},   year = {2026},   note = {R package version 1.1.1},   url = {https://gbifes.github.io/metages-toolkit}, }"},{"path":"https://gbifes.github.io/metages-toolkit/index.html","id":"metagestoolkit","dir":"","previous_headings":"","what":"Herramientas internas para METAGES","title":"Herramientas internas para METAGES","text":"Repositorio de uso interno para leer, analizar y actualizar el Registro de Instituciones, colecciones y bases de datos de biodiversidad de GBIF Espa√±a Descripci√≥n Instalaci√≥n A√±adir credenciales Generar informe Crear mapas Estructura del repositorio","code":""},{"path":"https://gbifes.github.io/metages-toolkit/index.html","id":"descripci√≥n","dir":"","previous_headings":"","what":"Descripci√≥n","title":"Herramientas internas para METAGES","text":"Este toolkit de uso interno proporciona un conjunto de herramientas en R y SQL (incluyendo el paquete de R metagesToolkit) para gestionar y analizar MetaGES, la base de datos del Registro de Colecciones de GBIF.ES. El paquete permite: üîç Extraer informaci√≥n directamente desde la base de datos MetaGES, üìä Procesar y resumir los datos (incluyendo generaci√≥n de mapas tem√°ticos), üìù Producir informes t√©cnicos reproducibles en formato Word. El paquete asume un entorno de trabajo controlado y acceso autorizado MetaGES. est√° pensado como paquete de uso general.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/index.html","id":"instalaci√≥n","dir":"","previous_headings":"","what":"Instalaci√≥n","title":"Herramientas internas para METAGES","text":"El paquete se instala directamente desde GitHub:","code":"# install.packages(\"remotes\") remotes::install_github(\"GBIFes/metages-toolkit\")  # Para desarrollo local del paquete se recomienda utilizar `devtools`, pero no es necesario para su uso normal. # install.packages(\"devtools\") # devtools::install_github(\"GBIFes/metages-toolkit\")"},{"path":"https://gbifes.github.io/metages-toolkit/index.html","id":"uso","dir":"","previous_headings":"","what":"Uso","title":"Herramientas internas para METAGES","text":"Actualmente, el flujo principal del paquete se articula en torno la funci√≥n render_informe(), que orquesta internamente la conexi√≥n MetaGES, la extracci√≥n de datos, el procesamiento, la creaci√≥n de mapas y la generaci√≥n de un informe final como archivo .docx. El paquete expone adem√°s dos funciones √∫tiles para la exploraci√≥n crear_mapa_simple() y el post-procesado del informe insertar_tabla_colecciones(). Sin embargo, para usar estas funciones es imprescindible tener credenciales para acceder MetaGES:","code":""},{"path":"https://gbifes.github.io/metages-toolkit/index.html","id":"warninga√±adir-credencialeswarning","dir":"","previous_headings":"Uso","what":"‚ö†Ô∏èA√±adir credenciales:‚ö†Ô∏è","title":"Herramientas internas para METAGES","text":"Para extraer datos de MetaGES es necesario tener acceso la Base de Datos. Los siguientes variables de entorno deben estar definidas en el archivo .Renviron antes de usar el paquete; y se cargar√°n autom√°ticamente al iniciar una sesi√≥n de R: host_prod keyfile prod_ssh_bridge_R Database UID gbif_wp_pass Instrucciones para editar y guardar credenciales","code":""},{"path":"https://gbifes.github.io/metages-toolkit/index.html","id":"generar-informe","dir":"","previous_headings":"Uso","what":"Generar informe","title":"Herramientas internas para METAGES","text":"Genera un archivo .docx en el working directory actual basado en Informe Quarto. El informe contiene informaci√≥n detallada sobre el contenido de la base de datos MetaGES","code":"# Funci√≥n principal del paquete. Ejecuta el flujo completo de trabajo: conexi√≥n a MetaGES, extracci√≥n y procesamiento de datos, generaci√≥n de mapas y renderizado del informe base. # Genera `informe.docx` render_informe()        # Funci√≥n de post-procesado que a√±ade tablas adicionales al documento generado por `render_informe()`. # Genera `informe_con_tablas_colecciones.docx`. `keyword` debe coincidir con una Secci√≥n existente de informe.docx.  insertar_tabla_colecciones(keyword = \"Anexo X\")"},{"path":"https://gbifes.github.io/metages-toolkit/index.html","id":"crear-mapas","dir":"","previous_headings":"Uso","what":"Crear mapas","title":"Herramientas internas para METAGES","text":"Genera un mapa partir de los datos procesados. Permite filtrar por tipo_coleccion, disciplina, subdisciplina y si publican en GBIF o . Adem√°s, permite hacer un facet con cualquier columna de la tabla de datos. üëâ Consulta el art√≠culo Creaci√≥n de mapas de colecciones con metagesToolkit Mapa de las colecciones de invertebrados publicadoras  Mapa de las bases de datos publicadoras faceteado por disciplina","code":"crear_mapa_simple(tipo_coleccion = \"coleccion\",                           subdisciplina = \"Invertebrados\",                            publican = TRUE)$plot crear_mapa_simple(tipo_coleccion = \"base de datos\",                           facet = \"disciplina_def\",                           publican = TRUE)$plot"},{"path":"https://gbifes.github.io/metages-toolkit/index.html","id":"estructura-del-repositorio","dir":"","previous_headings":"","what":"Estructura del repositorio","title":"Herramientas internas para METAGES","text":"El repositorio combina c√≥digo del paquete R con recursos auxiliares necesarios para la exploraci√≥n de MetaGES y para la generaci√≥n del informe.","code":"metages-toolkit/ ‚îú‚îÄ‚îÄ codecov.yml ‚îú‚îÄ‚îÄ DESCRIPTION                                     : Descripci√≥n del paquete de R metagesToolkit. ‚îú‚îÄ‚îÄ inst/ ‚îÇ   ‚îú‚îÄ‚îÄ reports/                                    : Materiales para generar el informe de colecciones. ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/                                 : Im√°genes y plantillas para el informe. ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ images/ ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ external/ ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generated/                      : Contiene imagenes autogeneradas por inst/scripts/actualizar_mapas_vignettes.R para ser usadas por informe.qmd ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logos/ ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ templates/ ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ reference.docx ‚îÇ   ‚îÇ   ‚îÇ ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data/                                   : Contiene carpetas autogeneradas por inst/scripts/actualizar_mapas_vignettes.R ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mapas/                              : Contiene objetos .rds con la tabla de datos que genera cada mapa del informe y las vignettes ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vistas_sql/                         : Contiene objetos .rds con la tabla de datos que genera cada vista SQL de MetaGES ‚îÇ   ‚îÇ   ‚îÇ ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ informe.qmd                             : Documento Quarto que genera el informe de colecciones usando las funciones del paquete de R metagesToolkit. ‚îÇ   ‚îî‚îÄ‚îÄ scripts/                                    : R Scripts de apoyo a la gesti√≥n de la base de datos MetaGES, del paquete de R metagesToolkit y para almacenar funciones que aun no han sido a√±adidas al paquete de R. ‚îÇ       ‚îú‚îÄ‚îÄ actualizar_SQL_scripts.R ‚îÇ       ‚îú‚îÄ‚îÄ actualizar_Renviron.R ‚îÇ       ‚îú‚îÄ‚îÄ usage.R ‚îÇ       ‚îú‚îÄ‚îÄ ... ‚îÇ ‚îú‚îÄ‚îÄ LICENSE                                         : Licencia de uso del repositorio. ‚îú‚îÄ‚îÄ man/                                            : Documentaci√≥n de las funciones del paquete de R. ‚îÇ ‚îú‚îÄ‚îÄ metagesToolkit.Rproj                            : Archivo del proyecto de RStudio. ‚îú‚îÄ‚îÄ NAMESPACE                                       : Define que dependencias se importan y exportan al usar el paquete de R. ‚îú‚îÄ‚îÄ R/                                              : Funciones que forman parte del paquete de R. ‚îÇ   ‚îú‚îÄ‚îÄ conectar_metages.R                          : Funci√≥n para conectar R a MetaGES ‚îÇ   ‚îú‚îÄ‚îÄ extraer_colecciones_mapa.R                  : Funci√≥n para extraer datos de colecciones de MetaGES. Usa conectar_metages.R ‚îÇ   ‚îú‚îÄ‚îÄ crear_mapa.R                                : Funcion compleja para crear mapas con los datos de extraer_colecciones_mapa.R ‚îÇ   ‚îú‚îÄ‚îÄ crear_mapa_simple.R                         : Wrapper simplificado de crear_mapa.R. Opci√≥n recomendada para crear mapas. ‚îÇ   ‚îú‚îÄ‚îÄ render_informe.R                            : Crea una carpeta con el contenido del output de informe.qmd ‚îÇ   ‚îú‚îÄ‚îÄ insertar_tabla_colecciones.R                : A√±ade la gran tabla final al output de render_informe.R, generando informe_con_tablas_colecciones.docx ‚îÇ   ‚îú‚îÄ‚îÄ ... ‚îÇ ‚îú‚îÄ‚îÄ README.md                                       : Descripci√≥n del repositorio. ‚îú‚îÄ‚îÄ sql/                                            : Scripts generados automaticamente por actualizar_SQL_scripts.R para guardar la documentacion de las Vistas y otros Scripts de MetaGES. ‚îÇ   ‚îú‚îÄ‚îÄ LEEME ‚îÇ   ‚îî‚îÄ‚îÄ scripts/ ‚îÇ       ‚îú‚îÄ‚îÄ colecciones_per_estado_publicacion.sql ‚îÇ       ‚îú‚îÄ‚îÄ colecciones_informatizacion_ejemplares.sql ‚îÇ       ‚îú‚îÄ‚îÄ colecciones_per_anno.sql ‚îÇ       ‚îú‚îÄ‚îÄ contactos_entidades.sql ‚îÇ       ‚îú‚îÄ‚îÄ ... ‚îÇ ‚îú‚îÄ‚îÄ vignettes/ ‚îÇ   ‚îî‚îÄ‚îÄ crear-mapas.Rmd                             : Markdown para crear un articulo en github pages (https://gbifes.github.io/metages-toolkit/articles/crear-mapas.html) ‚îÇ ‚îú‚îÄ‚îÄ docs/                                           : Documentos necesarios para crear la github page del repo (https://gbifes.github.io/metages-toolkit/index.html) ‚îÇ ‚îú‚îÄ‚îÄ pkgdown/ ‚îÇ   ‚îî‚îÄ‚îÄ assets/pkgnet-report.hmtl                   : An√°lisis de la arquitectura de metagesToolkit realizado por inst/scripts/actualizar_pkgnet_arquitectura.R ‚îÇ ‚îî‚îÄ‚îÄ tests/                                          : Tests para las funciones del paquete de R metagesToolkit     ‚îú‚îÄ‚îÄ testthat/     ‚îÇ     ‚îî‚îÄ‚îÄ testthat.R"},{"path":"https://gbifes.github.io/metages-toolkit/reference/compute_legend_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Calcular par√°metros de leyenda para mapas ‚Äî compute_legend_params","title":"Calcular par√°metros de leyenda para mapas ‚Äî compute_legend_params","text":"Calcula cuantiles y l√≠mites partir de los recuentos de registros para construir una leyenda consistente en los mapas.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/compute_legend_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calcular par√°metros de leyenda para mapas ‚Äî compute_legend_params","text":"","code":"compute_legend_params(data, probs = c(0.1, 0.4, 0.65, 0.9), signif_digits = 1)"},{"path":"https://gbifes.github.io/metages-toolkit/reference/compute_legend_params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calcular par√°metros de leyenda para mapas ‚Äî compute_legend_params","text":"data data.frame que debe contener al menos las columnas number_of_subunits y numberOfRecords. probs Vector de probabilidades para calcular cuantiles. signif_digits N√∫mero de d√≠gitos significativos para etiquetas.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/compute_legend_params.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calcular par√°metros de leyenda para mapas ‚Äî compute_legend_params","text":"Invisiblemente, una lista con: mybreaks Vector num√©rico de cortes. limits Vector num√©rico de longitud 2 (min, max). probs El vector probs usado.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/conectar_metages.html","id":null,"dir":"Reference","previous_headings":"","what":"Conectar con la base de datos METAGES ‚Äî conectar_metages","title":"Conectar con la base de datos METAGES ‚Äî conectar_metages","text":"Establece una conexi√≥n con la base de datos METAGES mediante un t√∫nel SSH y una conexi√≥n ODBC.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/conectar_metages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Conectar con la base de datos METAGES ‚Äî conectar_metages","text":"","code":"conectar_metages()"},{"path":"https://gbifes.github.io/metages-toolkit/reference/conectar_metages.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Conectar con la base de datos METAGES ‚Äî conectar_metages","text":"Una lista con dos elementos: con Conexi√≥n DBI la base de datos. tunnel Objeto del t√∫nel SSH.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/conectar_metages.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Conectar con la base de datos METAGES ‚Äî conectar_metages","text":"La funci√≥n depende de variables de entorno previamente configuradas (por ejemplo, host, claves SSH y credenciales de base de datos). La conexi√≥n se realiza en dos pasos: Apertura de un t√∫nel SSH. Conexi√≥n la base de datos v√≠a DBI/ODBC.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_colecciones_por_anno.html","id":null,"dir":"Reference","previous_headings":"","what":"Evolucion anual del numero de colecciones registradas ‚Äî crear_barplot_colecciones_por_anno","title":"Evolucion anual del numero de colecciones registradas ‚Äî crear_barplot_colecciones_por_anno","text":"Genera un grafico de barras que muestra, por a√±o, el numero total acumulado de colecciones registradas y el numero de colecciones creadas en cada anno.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_colecciones_por_anno.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evolucion anual del numero de colecciones registradas ‚Äî crear_barplot_colecciones_por_anno","text":"","code":"crear_barplot_colecciones_por_anno(rdspath)"},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_colecciones_por_anno.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evolucion anual del numero de colecciones registradas ‚Äî crear_barplot_colecciones_por_anno","text":"rdspath Ruta al directorio que contiene el archivo colecciones_per_anno.rds.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_colecciones_por_anno.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evolucion anual del numero de colecciones registradas ‚Äî crear_barplot_colecciones_por_anno","text":"Un objeto ggplot.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_colecciones_por_anno.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Evolucion anual del numero de colecciones registradas ‚Äî crear_barplot_colecciones_por_anno","text":"Los datos se leen desde un archivo .rds incluido en el paquete metagesToolkit, accedido traves de la ruta indicada en el argumento rdspath.","code":""},{"path":[]},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_colecciones_por_anno.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evolucion anual del numero de colecciones registradas ‚Äî crear_barplot_colecciones_por_anno","text":"","code":"if (FALSE) { # \\dontrun{ crear_barplot_colecciones_por_anno(   rdspath = \"reports/data/vistas_sql\" ) } # }"},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_publicacion.html","id":null,"dir":"Reference","previous_headings":"","what":"Grafico de barras apiladas sobre el estado de publicacion en GBIF ‚Äî crear_barplot_publicacion","title":"Grafico de barras apiladas sobre el estado de publicacion en GBIF ‚Äî crear_barplot_publicacion","text":"Genera un grafico de barras horizontales apiladas que muestra, por disciplina, el numero de entidades o colecciones que publican y publican datos en GBIF.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_publicacion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Grafico de barras apiladas sobre el estado de publicacion en GBIF ‚Äî crear_barplot_publicacion","text":"","code":"crear_barplot_publicacion(rdspath, nivel = c(\"entidades\", \"colecciones\"))"},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_publicacion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Grafico de barras apiladas sobre el estado de publicacion en GBIF ‚Äî crear_barplot_publicacion","text":"rdspath Ruta al directorio que contiene los archivos entidades_per_publican.rds y colecciones_per_publican.rds. nivel Caracter. Indica el nivel de agregacion del grafico. Debe ser uno de: \"entidades\": numero de entidades \"colecciones\": numero de colecciones y bases de datos","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_publicacion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Grafico de barras apiladas sobre el estado de publicacion en GBIF ‚Äî crear_barplot_publicacion","text":"Un objeto ggplot con el grafico de barras apiladas.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_publicacion.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Grafico de barras apiladas sobre el estado de publicacion en GBIF ‚Äî crear_barplot_publicacion","text":"Los datos se leen desde archivos .rds incluidos en el paquete metagesToolkit, accedidos traves de la ruta indicada en el argumento rdspath. El grafico se ordena de menor mayor segun el total de entidades o colecciones por disciplina. Se excluye la fila \"TOTAL GENERAL\" si esta presente en los datos. Los archivos .rds deben contener las columnas disciplina_def, estado_publicacion y total_colecciones o total_entidades.","code":""},{"path":[]},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_publicacion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Grafico de barras apiladas sobre el estado de publicacion en GBIF ‚Äî crear_barplot_publicacion","text":"","code":"if (FALSE) { # \\dontrun{ crear_barplot_publicacion(rdspath = \"reports/data/vistas_sql\",                           nivel = \"entidades\") } # }"},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_top_colecciones_pub.html","id":null,"dir":"Reference","previous_headings":"","what":"Crear grafico de top colecciones por n√∫mero de registros ‚Äî crear_barplot_top_colecciones_pub","title":"Crear grafico de top colecciones por n√∫mero de registros ‚Äî crear_barplot_top_colecciones_pub","text":"Genera un grafico de barras horizontales con las 10 colecciones con mayor numero de registros que publican en GBIF, partir de un objeto leido desde un archivo .rds interno de metagesToolkit.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_top_colecciones_pub.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Crear grafico de top colecciones por n√∫mero de registros ‚Äî crear_barplot_top_colecciones_pub","text":"","code":"crear_barplot_top_colecciones_pub(rds_path)"},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_top_colecciones_pub.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Crear grafico de top colecciones por n√∫mero de registros ‚Äî crear_barplot_top_colecciones_pub","text":"rds_path Ruta al archivo .rds que contiene el mapa de colecciones.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_barplot_top_colecciones_pub.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Crear grafico de top colecciones por n√∫mero de registros ‚Äî crear_barplot_top_colecciones_pub","text":"Un objeto ggplot.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa.html","id":null,"dir":"Reference","previous_headings":"","what":"Crear mapa de colecciones METAGES ‚Äî crear_mapa","title":"Crear mapa de colecciones METAGES ‚Äî crear_mapa","text":"Genera un mapa con puntos sobre un basemap, aplicando filtros opcionales y un facet opcional. Devuelve tanto el ggplot como los datos filtrados.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Crear mapa de colecciones METAGES ‚Äî crear_mapa","text":"","code":"crear_mapa(   data = data,   basemap,   legend_params = NULL,   tipo_coleccion = NULL,   disciplina = NULL,   subdisciplina = NULL,   publican = NULL,   facet = NULL )"},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Crear mapa de colecciones METAGES ‚Äî crear_mapa","text":"data data.frame con las columnas necesarias para el mapa. Se genera automaticamente con extraer_colecciones_mapa() basemap Lista devuelta por get_basemap_es(). legend_params Lista de parametros de leyenda. Si NULL, se calcula con compute_legend_params(data). tipo_coleccion Uno de coleccion, base de datos o NULL. disciplina Uno de Zool\\u00F3gica, Bot\\u00E1nica, Paleontol\\u00F3gica, Mixta, Microbiol\\u00F3gica o NULL. subdisciplina Uno de Vertebrados, Invertebrados, Invertebrados y vertebrados, Plantas, Hongos y l\\u00EDquenes, Algas, Bot\\u00E1nicas mixtas o NULL. publican Uno de TRUE, FALSE o NULL. facet Nombre de columna (string) para facetar o NULL.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Crear mapa de colecciones METAGES ‚Äî crear_mapa","text":"Invisiblemente, una lista con: plot Objeto ggplot. data_map data.frame con los datos tras filtros.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Crear mapa de colecciones METAGES ‚Äî crear_mapa","text":"La funcion asume que los datos de entrada contienen coordenadas geograficas y metricas asociadas colecciones.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa_entidades.html","id":null,"dir":"Reference","previous_headings":"","what":"Crear mapa de entidades en el Registro facetado segun publicacion en GBIF ‚Äî crear_mapa_entidades","title":"Crear mapa de entidades en el Registro facetado segun publicacion en GBIF ‚Äî crear_mapa_entidades","text":"Genera un mapa del pa√≠s que muestra la localizacion de las entidades incluidas en el Registro de Colecciones de GBIF.ES. El mapa se facetiza segun el estado de publicacion en GBIF (publica_en_gbif), separando visualmente las entidades que publican de aquellas que .","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa_entidades.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Crear mapa de entidades en el Registro facetado segun publicacion en GBIF ‚Äî crear_mapa_entidades","text":"","code":"crear_mapa_entidades(tipo_coleccion = NULL)"},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa_entidades.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Crear mapa de entidades en el Registro facetado segun publicacion en GBIF ‚Äî crear_mapa_entidades","text":"tipo_coleccion Tipo de entidad representar. Uno de \"coleccion\", \"base de datos\" o NULL. Si es NULL, se muestran todas.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa_entidades.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Crear mapa de entidades en el Registro facetado segun publicacion en GBIF ‚Äî crear_mapa_entidades","text":"Un objeto ggplot.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa_entidades.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Crear mapa de entidades en el Registro facetado segun publicacion en GBIF ‚Äî crear_mapa_entidades","text":"Las entidades se representan mediante puntos fijos. Para evitar ocultamientos completos entre entidades cercanas, se aplica un jitter espacial muy leve. Los nombres que aparecen en el mapa corresponden las regiones, y se situan en el centroide empirico de las entidades de cada region y panel, manteniendo coherencia cartografica.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa_simple.html","id":null,"dir":"Reference","previous_headings":"","what":"Mapa METAGES (version simple para uso) ‚Äî crear_mapa_simple","title":"Mapa METAGES (version simple para uso) ‚Äî crear_mapa_simple","text":"Wrapper de alto nivel sobre crear_mapa() que fija la infraestructura y expone solo filtros y facet.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa_simple.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mapa METAGES (version simple para uso) ‚Äî crear_mapa_simple","text":"","code":"crear_mapa_simple(   tipo_coleccion = NULL,   disciplina = NULL,   subdisciplina = NULL,   publican = NULL,   facet = NULL )"},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa_simple.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mapa METAGES (version simple para uso) ‚Äî crear_mapa_simple","text":"tipo_coleccion colecci√≥n, base de datos o NULL. disciplina Zool√≥gica, Bot√°nica, Paleontol√≥gica, Mixta, Microbiol√≥gica o NULL. subdisciplina Vertebrados, Invertebrados, Invertebrados y vertebrados, Plantas,  Hongos y l\\u00EDquenes, Algas, Bot\\u00E1nicas mixtas o NULL. publican TRUE, FALSE o NULL. facet Nombre de columna (string) para facetar o NULL.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/crear_mapa_simple.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mapa METAGES (version simple para uso) ‚Äî crear_mapa_simple","text":"Invisiblemente, una lista con: plot Objeto ggplot. data_map data.frame con los datos tras filtros.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/extraer_colecciones_mapa.html","id":null,"dir":"Reference","previous_headings":"","what":"Extraer colecciones desde METAGES para mapas ‚Äî extraer_colecciones_mapa","title":"Extraer colecciones desde METAGES para mapas ‚Äî extraer_colecciones_mapa","text":"Abre conexi√≥n METAGES (v√≠a conectar_metages()), ejecuta una consulta (SELECT * colecciones c) y devuelve un data.frame depurado para mapas.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/extraer_colecciones_mapa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extraer colecciones desde METAGES para mapas ‚Äî extraer_colecciones_mapa","text":"","code":"extraer_colecciones_mapa(   shift = c(5, 6),   cerrar_conexion = FALSE,   cerrar_tunel = FALSE )"},{"path":"https://gbifes.github.io/metages-toolkit/reference/extraer_colecciones_mapa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extraer colecciones desde METAGES para mapas ‚Äî extraer_colecciones_mapa","text":"shift Vector num√©rico de longitud 2. Se usa en el procesamiento para desplazar los datos de canarias y coincidir con get_basemap_es(). cerrar_conexion Si TRUE, cierra la conexi√≥n DB al finalizar. cerrar_tunel Si TRUE, cierra el t√∫nel/proceso al finalizar.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/extraer_colecciones_mapa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extraer colecciones desde METAGES para mapas ‚Äî extraer_colecciones_mapa","text":"Invisiblemente, un data.frame/tibble con los datos de colecciones listos para usar en crear_mapa().","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_basemap_es.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtener basemap de Espa√±a (con Canarias desplazadas) ‚Äî get_basemap_es","title":"Obtener basemap de Espa√±a (con Canarias desplazadas) ‚Äî get_basemap_es","text":"Descarga geometr√≠as de pa√≠ses vecinos y Espa√±a con giscoR, recorta y desplaza Canarias para crear un basemap ‚Äúcompacto‚Äù para mapas.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_basemap_es.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obtener basemap de Espa√±a (con Canarias desplazadas) ‚Äî get_basemap_es","text":"","code":"get_basemap_es(shift = c(5, 6))"},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_basemap_es.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtener basemap de Espa√±a (con Canarias desplazadas) ‚Äî get_basemap_es","text":"shift Vector num√©rico de longitud 2 con el desplazamiento aplicado Canarias (x, y).","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_basemap_es.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obtener basemap de Espa√±a (con Canarias desplazadas) ‚Äî get_basemap_es","text":"Invisiblemente, una lista con: vecinos Objeto sf con pa√≠ses vecinos. ES_fixed Objeto sf con Espa√±a (Pen√≠nsula+Canarias desplazadas). bb_fixed Bounding box (sf::st_bbox) de ES_fixed. bb_can Bounding box (sf::st_bbox) de Canarias desplazadas. shift El vector shift usado para desplazar canarias.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top10_countries_rgbif.html","id":null,"dir":"Reference","previous_headings":"","what":"Top 10 paises con mayor numero de registros en GBIF ‚Äî get_top10_countries_rgbif","title":"Top 10 paises con mayor numero de registros en GBIF ‚Äî get_top10_countries_rgbif","text":"Obtiene los 10 paises con mayor numero de registros de ocurrencias en GBIF nivel global, usando la API de rgbif. Ademas, calcula la posicion acumulada historica de cada pais hasta el final de un a√±o previo, configurable mediante el argumento years_back, lo que permite comparar la situacion actual con el ranking historico.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top10_countries_rgbif.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Top 10 paises con mayor numero de registros en GBIF ‚Äî get_top10_countries_rgbif","text":"","code":"get_top10_countries_rgbif(years_back = 2)"},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top10_countries_rgbif.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Top 10 paises con mayor numero de registros en GBIF ‚Äî get_top10_countries_rgbif","text":"years_back Entero negativo que indica cuantos a√±os hacia atras se debe calcular el ranking acumulado historico. Por ejemplo: years_back = 1: hasta el final del a√±o pasado. years_back = 2: hasta el final del a√±o anterior al pasado (valor por defecto).","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top10_countries_rgbif.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Top 10 paises con mayor numero de registros en GBIF ‚Äî get_top10_countries_rgbif","text":"Un tibble con las siguientes columnas: pais: nombre del pais en espa√±ol. iso2: codigo ISO2 del pais count: numero actual de registros en GBIF. posicion_prev_cum: posicion en el ranking acumulado historico. count_prev_cum: numero acumulado de registros hasta el a√±o de referencia.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top10_countries_rgbif.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Top 10 paises con mayor numero de registros en GBIF ‚Äî get_top10_countries_rgbif","text":"Los nombres de los paises se devuelven en castellano usando countrycode. La funcion realiza dos consultas independientes la API de GBIF: Un conteo global actual de registros por pais mediante occ_count_country(). Un conteo acumulado hist√≥rico hasta el a√±o de referencia (a√±o_actual - years_back) utilizando facetas en occ_search(). La posicion historica se calcula partir del ranking acumulado (orden descendente de numero de registros).","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top10_countries_rgbif.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Top 10 paises con mayor numero de registros en GBIF ‚Äî get_top10_countries_rgbif","text":"Esta funcion realiza llamadas la API publica de GBIF y requiere conexion Internet. En funcion de la carga del servidor, puede tardar varios segundos o fallar de forma intermitente.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top10_countries_rgbif.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Top 10 paises con mayor numero de registros en GBIF ‚Äî get_top10_countries_rgbif","text":"","code":"if (FALSE) { # \\dontrun{ # Ranking acumulado hasta el final del a√±o pasado top_countries <- get_top10_countries_rgbif(years_back = 1)  # Ranking acumulado historico mas amplio top_countries_long <- get_top10_countries_rgbif(years_back = 5) } # }"},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top_publishing_countries_gbif.html","id":null,"dir":"Reference","previous_headings":"","what":"Top paises publicadores de datos en GBIF ‚Äî get_top_publishing_countries_gbif","title":"Top paises publicadores de datos en GBIF ‚Äî get_top_publishing_countries_gbif","text":"Obtiene los pa√≠ses con mayor numero de registros publicados en GBIF, en funcion del pais del publicador (publishing country), utilizando facetas de la API de rgbif.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top_publishing_countries_gbif.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Top paises publicadores de datos en GBIF ‚Äî get_top_publishing_countries_gbif","text":"","code":"get_top_publishing_countries_gbif(n = 10, years_back = 2, facet_limit = 300)"},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top_publishing_countries_gbif.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Top paises publicadores de datos en GBIF ‚Äî get_top_publishing_countries_gbif","text":"n Numero de paises devolver. Por defecto, 10. years_back Entero negativo que indica cuantos a√±os hacia atras se debe calcular el ranking acumulado historico. Por ejemplo: years_back = 1: hasta el final del a√±o pasado. years_back = 2: hasta el final del a√±o anterior al pasado (valor por defecto). facet_limit L√≠mite maximo de categorias devueltas por la faceta publishingCountry. Debe aumentarse si se desea asegurar cobertura completa nivel global.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top_publishing_countries_gbif.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Top paises publicadores de datos en GBIF ‚Äî get_top_publishing_countries_gbif","text":"Un tibble con las siguientes columnas: publishingCountry: codigo ISO2 del pais publicador. count: numero de registros publicados. pais_publicador: nombre del pais en castellano.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top_publishing_countries_gbif.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Top paises publicadores de datos en GBIF ‚Äî get_top_publishing_countries_gbif","text":"Los nombres de los paises se devuelven en castellano. La funcion descarga registros individuales de ocurrencias. Utiliza exclusivamente facetas, lo que la hace eficiente para resumenes agregados gran escala.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top_publishing_countries_gbif.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Top paises publicadores de datos en GBIF ‚Äî get_top_publishing_countries_gbif","text":"Esta funcion consulta la API publica de GBIF y requiere conexion Internet.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/get_top_publishing_countries_gbif.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Top paises publicadores de datos en GBIF ‚Äî get_top_publishing_countries_gbif","text":"","code":"if (FALSE) { # \\dontrun{ top_publishers <- get_top_publishing_countries_gbif() top_publishers_20 <- get_top_publishing_countries_gbif(n = 20) } # }"},{"path":"https://gbifes.github.io/metages-toolkit/reference/insertar_tabla_colecciones.html","id":null,"dir":"Reference","previous_headings":"","what":"Inserta la tabla de colecciones en el informe Word ‚Äî insertar_tabla_colecciones","title":"Inserta la tabla de colecciones en el informe Word ‚Äî insertar_tabla_colecciones","text":"Genera los datos actualizados, aplica el formateo de valores, construye la flextable con hipervinculos e inserta la tabla en el informe Word generado previamente.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/insertar_tabla_colecciones.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inserta la tabla de colecciones en el informe Word ‚Äî insertar_tabla_colecciones","text":"","code":"insertar_tabla_colecciones(keyword)"},{"path":"https://gbifes.github.io/metages-toolkit/reference/insertar_tabla_colecciones.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inserta la tabla de colecciones en el informe Word ‚Äî insertar_tabla_colecciones","text":"keyword Texto exacto del encabezado donde insertar la tabla.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/insertar_tabla_colecciones.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Inserta la tabla de colecciones en el informe Word ‚Äî insertar_tabla_colecciones","text":"Ruta al archivo .docx modificado.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/render_informe.html","id":null,"dir":"Reference","previous_headings":"","what":"Renderiza el informe METAGES ‚Äî render_informe","title":"Renderiza el informe METAGES ‚Äî render_informe","text":"Renderiza el archivo Quarto informe.qmd incluido en el paquete metagesToolkit y genera un informe Word (.docx) junto con todos los archivos auxiliares producidos por Quarto.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/render_informe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Renderiza el informe METAGES ‚Äî render_informe","text":"","code":"render_informe(overwrite = TRUE)"},{"path":"https://gbifes.github.io/metages-toolkit/reference/render_informe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Renderiza el informe METAGES ‚Äî render_informe","text":"overwrite Si TRUE, elimina y vuelve crear el directorio informe_output si ya existe en el directorio de trabajo. Si FALSE y el directorio existe, la funcion lanza un error.","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/render_informe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Renderiza el informe METAGES ‚Äî render_informe","text":"Crea varias carpetas y archivos de cache, figuras y un documento (.docx).","code":""},{"path":"https://gbifes.github.io/metages-toolkit/reference/render_informe.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Renderiza el informe METAGES ‚Äî render_informe","text":"El informe se renderiza en un directorio temporal y, una vez finalizado, todo el contenido generado se copia al directorio de trabajo actual dentro de la carpeta informe_output, preservando la estructura de subdirectorios.","code":""}]
